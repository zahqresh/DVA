"use strict";(self.webpackChunkborder=self.webpackChunkborder||[]).push([[6293],{86293:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var n=r(71823),o=r(17187),s=r.n(o),i=(r(25108),{}),a={},c=function(e,t){a[e]=t},u=function(e){var t=function(t,r){Object.assign(this,r),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,i[e]=t,t};u("AccountNameRequired"),u("AccountNotSupported"),u("AmountRequired"),u("BluetoothRequired"),u("BtcUnmatchedApp"),u("CantOpenDevice"),u("CashAddrNotSupported"),u("CurrencyNotSupported"),u("DeviceAppVerifyNotSupported"),u("DeviceGenuineSocketEarlyClose"),u("DeviceNotGenuine"),u("DeviceOnDashboardExpected"),u("DeviceOnDashboardUnexpected"),u("DeviceInOSUExpected"),u("DeviceHalted"),u("DeviceNameInvalid"),u("DeviceSocketFail"),u("DeviceSocketNoBulkStatus"),u("DisconnectedDevice"),u("DisconnectedDeviceDuringOperation"),u("EnpointConfig"),u("EthAppPleaseEnableContractData"),u("FeeEstimationFailed"),u("FirmwareNotRecognized"),u("HardResetFail"),u("InvalidXRPTag"),u("InvalidAddress"),u("InvalidAddressBecauseDestinationIsAlsoSource"),u("LatestMCUInstalledError"),u("UnknownMCU"),u("LedgerAPIError"),u("LedgerAPIErrorWithMessage"),u("LedgerAPINotAvailable"),u("ManagerAppAlreadyInstalled"),u("ManagerAppRelyOnBTC"),u("ManagerAppDepInstallRequired"),u("ManagerAppDepUninstallRequired"),u("ManagerDeviceLocked"),u("ManagerFirmwareNotEnoughSpace"),u("ManagerNotEnoughSpace"),u("ManagerUninstallBTCDep"),u("NetworkDown"),u("NoAddressesFound"),u("NotEnoughBalance"),u("NotEnoughBalanceToDelegate"),u("NotEnoughBalanceInParentAccount"),u("NotEnoughSpendableBalance"),u("NotEnoughBalanceBecauseDestinationNotCreated"),u("NoAccessToCamera"),u("NotEnoughGas"),u("NotSupportedLegacyAddress"),u("GasLessThanEstimate"),u("PasswordsDontMatch"),u("PasswordIncorrect"),u("RecommendSubAccountsToEmpty"),u("RecommendUndelegation"),u("TimeoutTagged"),u("UnexpectedBootloader"),u("MCUNotGenuineToDashboard"),u("RecipientRequired"),u("UnavailableTezosOriginatedAccountReceive"),u("UnavailableTezosOriginatedAccountSend"),u("UpdateFetchFileFail"),u("UpdateIncorrectHash"),u("UpdateIncorrectSig"),u("UpdateYourApp"),u("UserRefusedDeviceNameChange"),u("UserRefusedAddress"),u("UserRefusedFirmwareUpdate"),u("UserRefusedAllowManager"),u("UserRefusedOnDevice"),u("TransportOpenUserCancelled"),u("TransportInterfaceNotAvailable");var d=u("TransportRaceCondition");function p(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}u("TransportWebUSBGestureRequired"),u("DeviceShouldStayInApp"),u("WebsocketConnectionError"),u("WebsocketConnectionFailed"),u("WrongDeviceForAccount"),u("WrongAppForCurrency"),u("ETHAddressNonEIP"),u("CantScanQRCode"),u("FeeNotLoaded"),u("FeeRequired"),u("FeeTooHigh"),u("SyncError"),u("PairingFailed"),u("GenuineCheckFailed"),u("LedgerAPI4xx"),u("LedgerAPI5xx"),u("FirmwareOrAppUpdateRequired"),u("NoDBPathGiven"),u("DBWrongPassword"),u("DBNotReset"),p.prototype=new Error,c("TransportError",(function(e){return new p(e.message,e.id)}));var l={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function g(e){this.name="TransportStatusError";var t=Object.keys(l).find((function(t){return l[t]===e}))||"UNKNOWN_ERROR",r=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,n=e.toString(16);this.message="Ledger device: "+r+" (0x"+n+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}g.prototype=new Error,c("TransportStatusError",(function(e){return new g(e.statusCode)}));var E=r(23085).Buffer,h=r(25108);class _{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(s()),this.send=async(e,t,r,n,o=E.alloc(0),s=[l.OK])=>{if(o.length>=256)throw new p("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");const i=await this.exchange(E.concat([E.from([e,t,r,n]),E.from([o.length]),o])),a=i.readUInt16BE(i.length-2);if(!s.some((e=>e===a)))throw new g(a);return i},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new d("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const r=new Promise((e=>{t=e}));this.exchangeBusyPromise=r;let n=!1;const o=setTimeout((()=>{n=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const r=await e();return n&&this.emit("responsive"),r}finally{clearTimeout(o),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){h.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise(((r,n)=>{let o=!1;const s=this.listen({next:t=>{o=!0,s&&s.unsubscribe(),i&&clearTimeout(i),this.open(t.descriptor,e).then(r,n)},error:e=>{i&&clearTimeout(i),n(e)},complete:()=>{i&&clearTimeout(i),o||n(new p(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),i=t?setTimeout((()=>{s.unsubscribe(),n(new p(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))}decorateAppAPIMethods(e,t,r){for(let n of t)e[n]=this.decorateAppAPIMethod(n,e[n],e,r)}decorateAppAPIMethod(e,t,r,n){return async(...o)=>{const{_appAPIlock:s}=this;if(s)return Promise.reject(new p("Ledger Device is busy (lock "+s+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(n),await t.apply(r,o)}finally{this._appAPIlock=null}}}}_.isSupported=void 0,_.list=void 0,_.listen=void 0,_.open=void 0,_.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",_.ErrorMessage_NoDeviceFound="No Ledger device found";var f=r(25108);let m=0;const T=[],I=(e,t,r)=>{const n={type:e,id:String(++m),date:new Date};t&&(n.message=t),r&&(n.data=r),function(e){for(let t=0;t<T.length;t++)try{T[t](e)}catch(e){f.error(e)}}(n)};"undefined"!=typeof window&&(window.__ledgerLogsListen=e=>(T.push(e),()=>{const t=T.indexOf(e);-1!==t&&(T[t]=T[T.length-1],T.pop())}));var N=r(23085).Buffer;const v=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");let S=[];class R extends _{static async open(e,t=5e3){return new R}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,S.push(this)}async exchange(e){try{return await function(e,t,r,o){const s=function(e,t){const r=N.alloc(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n%t.length];return r}(e,r),i=N.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a={version:"U2F_V2",keyHandle:v(s.toString("base64")),challenge:v(i.toString("base64")),appId:location.origin};return I("apdu","=> "+e.toString("hex")),(0,n.sign)(a,t/1e3).then((e=>{const{signatureData:t}=e;if("string"==typeof t){const e=N.from((r=t).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*r.length%4),"base64");let n;return n=o?e.slice(5):e,I("apdu","<= "+n.toString("hex")),n}throw e;var r}))}(e,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(e){throw"object"==typeof e.metaData?(5===e.metaData.code&&(S.forEach((e=>e.emit("disconnect"))),S=[]),function(e,t,r){const n=new p(t,r);return n.originalError=e,n}(e,"Failed to sign with Ledger device: U2F "+e.metaData.type,"U2F_"+e.metaData.code)):e}}setScrambleKey(e){this.scrambleKey=N.from(e,"ascii")}setUnwrap(e){this.unwrap=e}close(){return Promise.resolve()}}R.isSupported=n.isSupported,R.list=()=>(0,n.isSupported)().then((e=>e?[null]:[])),R.listen=e=>{let t=!1;return(0,n.isSupported)().then((r=>{t||(r?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new p("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:()=>{t=!0}}}},71823:(e,t,r)=>{e.exports=r(49145)},63845:(e,t,r)=>{var n=r(25108),o=o||{};e.exports=o,o.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",o.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},o.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},o.Request,o.Response,o.Error,o.SignRequest,o.SignResponse,o.RegisterRequest,o.RegisterResponse,o.disconnect=function(){o.port_&&o.port_.port_&&(o.port_.port_.disconnect(),o.port_=null)},o.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:o.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(o.EXTENSION_ID,t,(function(){chrome.runtime.lastError?o.getIframePort_(e):o.getChromeRuntimePort_(e)}))}else o.getIframePort_(e)},o.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(o.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new o.WrappedChromeRuntimePort_(t))}),0)},o.WrappedChromeRuntimePort_=function(e){this.port_=e},o.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},o.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var r=e.toLowerCase();"message"==r||"onmessage"==r?this.port_.onMessage.addListener((function(e){t({data:e})})):n.error("WrappedChromeRuntimePort only supports onMessage")},o.getIframePort_=function(e){var t="chrome-extension://"+o.EXTENSION_ID,r=document.createElement("iframe");r.src=t+"/u2f-comms.html",r.setAttribute("style","display:none"),document.body.appendChild(r);var s=!1,i=new MessageChannel,a=function(t){"ready"==t.data?(i.port1.removeEventListener("message",a),s||(s=!0,e(null,i.port1))):n.error('First event on iframe port was not "ready"')};i.port1.addEventListener("message",a),i.port1.start(),r.addEventListener("load",(function(){r.contentWindow.postMessage("init",t,[i.port2])})),setTimeout((function(){s||(s=!0,e(new Error("IFrame extension not supported")))}),200)},o.EXTENSION_TIMEOUT_SEC=30,o.port_=null,o.waitingForPort_=[],o.reqCounter_=0,o.callbackMap_={},o.getPortSingleton_=function(e){o.port_?e(null,o.port_):(0==o.waitingForPort_.length&&o.getMessagePort((function(e,t){for(e||(o.port_=t,o.port_.addEventListener("message",o.responseHandler_));o.waitingForPort_.length;)o.waitingForPort_.shift()(e,t)})),o.waitingForPort_.push(e))},o.responseHandler_=function(e){var t=e.data,r=t.requestId;if(r&&o.callbackMap_[r]){var s=o.callbackMap_[r];delete o.callbackMap_[r],s(null,t.responseData)}else n.error("Unknown or missing requestId in response.")},o.isSupported=function(e){o.getPortSingleton_((function(t,r){e(!t)}))},o.sign=function(e,t,r){o.getPortSingleton_((function(n,s){if(n)return t(n);var i=++o.reqCounter_;o.callbackMap_[i]=t;var a={type:o.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:void 0!==r?r:o.EXTENSION_TIMEOUT_SEC,requestId:i};s.postMessage(a)}))},o.register=function(e,t,r,n){o.getPortSingleton_((function(s,i){if(s)return r(s);var a=++o.reqCounter_;o.callbackMap_[a]=r;var c={type:o.MessageTypes.U2F_REGISTER_REQUEST,signRequests:t,registerRequests:e,timeoutSeconds:void 0!==n?n:o.EXTENSION_TIMEOUT_SEC,requestId:a};i.postMessage(c)}))}},49145:(e,t,r)=>{e.exports=u;var n=r(63845),o="undefined"!=typeof navigator&&!!navigator.userAgent,s=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),i=o&&navigator.userAgent.match(/Edge\/1[2345]/),a=null;function c(e){return a||(a=new e((function(e,t){function r(){e({u2f:null,native:!0})}return o?s?r():(void 0!==window.u2f&&"function"==typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),i||"http:"===location.protocol||"undefined"==typeof MessageChannel?r():void n.isSupported((function(t){t?e({u2f:n,native:!1}):r()}))):r()}))),a}function u(e){return{isSupported:l.bind(e),ensureSupport:E.bind(e),register:h.bind(e),sign:_.bind(e),ErrorCodes:u.ErrorCodes,ErrorNames:u.ErrorNames}}function d(e,t){var r=null!=t?t.errorCode:1,n=u.ErrorNames[""+r],o=new Error(e);return o.metaData={type:n,code:r},o}function p(e,t){var r={};return r.promise=new e((function(e,n){r.resolve=e,r.reject=n,t.then(e,n)})),r.promise.cancel=function(t,n){c(e).then((function(e){n&&!e.native&&e.u2f.disconnect(),r.reject(d(t,{errorCode:-1}))}))},r}function l(){return c(this).then((function(e){return!!e.u2f}))}function g(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function E(){return c(this).then(g)}function h(e,t,r){var n=this;return Array.isArray(e)||(e=[e]),"number"==typeof t&&void 0===r&&(r=t,t=null),t||(t=[]),p(n,c(n).then((function(o){g(o);var s=o.native,i=o.u2f;return new n((function(n,o){if(s){var a=e[0].appId;i.register(a,e,t,(function(e){e.errorCode?o(d("Registration failed",e)):(delete e.errorCode,n(e))}),r)}else i.register(e,t,(function(e,t){e?o(e):t.errorCode?o(d("Registration failed",t)):n(t)}),r)}))}))).promise}function _(e,t){var r=this;return Array.isArray(e)||(e=[e]),p(r,c(r).then((function(n){g(n);var o=n.native,s=n.u2f;return new r((function(r,n){if(o){var i=e[0].appId,a=e[0].challenge;s.sign(i,a,e,(function(e){e.errorCode?n(d("Sign failed",e)):(delete e.errorCode,r(e))}),t)}else s.sign(e,(function(e,t){e?n(e):t.errorCode?n(d("Sign failed",t)):r(t)}),t)}))}))).promise}function f(e){u[e]=function(){if(!r.g.Promise)throw new Error("The platform doesn't natively support promises");var t=[].slice.call(arguments);return u(r.g.Promise)[e].apply(null,t)}}u.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},u.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},f("isSupported"),f("ensureSupport"),f("register"),f("sign")}}]);